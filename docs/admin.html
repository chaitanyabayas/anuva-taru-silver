<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Anuva Taru Silver</title>
    <link rel="stylesheet" href="/css/admin.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Login Modal -->
    <div id="login-modal" class="modal login-modal">
      <div class="modal-content">
        <div class="login-container">
          <div class="login-header">
            <img
              src="/images/logo.png"
              alt="Anuva Taru Silver Logo"
              class="logo-img"
              style="
                height: 40px;
                width: auto;
                vertical-align: middle;
                margin-right: 10px;
              "
              onerror="this.style.display='none';"
            />
            <h2>
              <a
                href="/admin"
                class="logo-link"
                aria-label="Anuva Taru Silver Home"
              >
                <span class="logo-text">Admin Login</span>
              </a>
            </h2>
          </div>
          <form id="login-form" class="login-form">
            <div class="form-group">
              <label for="login-email">Email</label>
              <input type="email" id="login-email" name="email" required />
            </div>
            <div class="form-group">
              <label for="login-password">Password</label>
              <input
                type="password"
                id="login-password"
                name="password"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-sign-in-alt"></i> Login
            </button>
          </form>
          <div
            id="login-error"
            class="error-message"
            style="display: none"
          ></div>
        </div>
      </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="admin-dashboard" style="display: none">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <img
            src="/public/images/logo.png"
            alt="Anuva Taru Silver Logo"
            class="logo-img"
            style="
              padding: 5px;
              height: 40px;
              width: auto;
              vertical-align: middle;
              margin-right: 10px;
            "
            onerror="this.style.display='none';"
          />
          <h3>Admin Panel</h3>
        </div>
        <nav class="sidebar-nav">
          <ul>
            <li class="nav-item">
              <a href="#" class="nav-link active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i> Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" data-section="products">
                <i class="fas fa-gem"></i> Products
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" data-section="contacts">
                <i class="fas fa-envelope"></i> Contact Messages
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" id="logout-btn">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header -->
        <header class="admin-header">
          <div class="header-content">
            <h1 id="page-title">Dashboard</h1>
            <div class="header-actions">
              <span id="admin-user"></span>
            </div>
          </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section active">
          <div class="dashboard-stats">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-gem"></i>
              </div>
              <div class="stat-content">
                <h3 id="total-products">0</h3>
                <p>Total Products</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-eye"></i>
              </div>
              <div class="stat-content">
                <h3 id="visible-products">0</h3>
                <p>Visible Products</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-star"></i>
              </div>
              <div class="stat-content">
                <h3 id="featured-products">0</h3>
                <p>Featured Products</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="stat-content">
                <h3 id="unread-messages">0</h3>
                <p>Unread Messages</p>
              </div>
            </div>
          </div>

          <div class="recent-activity">
            <h3>Recent Activity</h3>
            <div class="activity-list" id="recent-activity">
              <!-- Recent activity will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Products Section -->
        <section id="products-section" class="content-section">
          <div class="section-header">
            <h2>Products Management</h2>
            <button id="add-product-btn" class="btn btn-primary">
              <i class="fas fa-plus"></i> Add Product
            </button>
          </div>

          <div class="products-table-container">
            <table class="products-table">
              <thead>
                <tr>
                  <th>Image</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Price</th>
                  <th>Status</th>
                  <th>Featured</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="products-table-body">
                <!-- Products will be loaded here -->
              </tbody>
            </table>
          </div>
        </section>

        <!-- Contacts Section -->
        <section id="contacts-section" class="content-section">
          <div class="section-header">
            <h2>Contact Messages</h2>
          </div>

          <div class="contacts-table-container">
            <table class="contacts-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Subject</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="contacts-table-body">
                <!-- Contacts will be loaded here -->
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>

    <!-- Product Modal -->
    <div id="product-modal" class="modal">
      <div class="modal-content large">
        <div class="modal-header">
          <h3 id="product-modal-title">Add Product</h3>
          <span class="close">&times;</span>
        </div>
        <div class="modal-body">
          <form id="product-form" class="product-form">
            <div class="form-row">
              <div class="form-group">
                <label for="product-name">Product Name *</label>
                <input type="text" id="product-name" name="name" required />
              </div>
              <div class="form-group">
                <label for="product-category">Category *</label>
                <select id="product-category" name="category" required>
                  <option value="">Select Category</option>
                  <option value="rings">Rings</option>
                  <option value="necklaces">Necklaces</option>
                  <option value="earrings">Earrings</option>
                  <option value="bracelets">Bracelets</option>
                  <option value="pendants">Pendants</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="product-price">Price *</label>
                <input
                  type="number"
                  id="product-price"
                  name="price"
                  step="0.01"
                  min="0"
                  required
                />
              </div>
              <div class="form-group">
                <label for="product-material">Material</label>
                <input
                  type="text"
                  id="product-material"
                  name="material"
                  value="Silver"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="product-weight">Weight (grams)</label>
                <input
                  type="number"
                  id="product-weight"
                  name="weight"
                  step="0.1"
                  min="0"
                />
              </div>
              <div class="form-group">
                <label for="product-dimensions">Dimensions</label>
                <input
                  type="text"
                  id="product-dimensions"
                  name="dimensions"
                  placeholder="e.g., 2cm x 1.5cm"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="product-description">Description</label>
              <textarea
                id="product-description"
                name="description"
                rows="4"
              ></textarea>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="product-stock">Stock Quantity</label>
                <input
                  type="number"
                  id="product-stock"
                  name="stock_quantity"
                  min="0"
                  value="1"
                />
              </div>
              <div class="form-group">
                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input
                      type="checkbox"
                      id="product-featured"
                      name="is_featured"
                    />
                    <span class="checkmark"></span>
                    Featured Product
                  </label>
                  <label class="checkbox-label">
                    <input
                      type="checkbox"
                      id="product-visible"
                      name="is_visible"
                      checked
                    />
                    <span class="checkmark"></span>
                    Visible to Users
                  </label>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="product-image">Product Image</label>
              <input
                type="file"
                id="product-image"
                name="image"
                accept="image/*"
              />
              <div id="current-image" style="display: none">
                <p>Current image:</p>
                <img
                  id="current-image-preview"
                  src=""
                  alt="Current product image"
                  style="max-width: 200px; max-height: 200px"
                />
              </div>
            </div>
            <div class="form-actions">
              <button
                type="button"
                class="btn btn-secondary"
                id="cancel-product"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">
                Save Product
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Contact Modal -->
    <div id="contact-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Contact Message Details</h3>
          <span class="close">&times;</span>
        </div>
        <div class="modal-body">
          <div class="contact-details">
            <div class="detail-row">
              <strong>Name:</strong> <span id="contact-name"></span>
            </div>
            <div class="detail-row">
              <strong>Email:</strong> <span id="contact-email"></span>
            </div>
            <div class="detail-row">
              <strong>Phone:</strong> <span id="contact-phone"></span>
            </div>
            <div class="detail-row">
              <strong>Date:</strong> <span id="contact-date"></span>
            </div>
            <div class="detail-row">
              <strong>Message:</strong>
              <div id="contact-message"></div>
            </div>
          </div>
          <div class="modal-actions">
            <button id="mark-read-btn" class="btn btn-primary">
              Mark as Read
            </button>
            <a id="reply-email-btn" class="btn btn-secondary" href=""
              >Reply via Email</a
            >
          </div>
        </div>
      </div>
    </div>

    <script src="/public/js/admin.js"></script>
  </body>
</html>
